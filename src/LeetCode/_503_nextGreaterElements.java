package LeetCode;

/**
 * ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II
 */
public class _503_nextGreaterElements {
    /**
     * æ‰§è¡Œç”¨æ—¶ï¼š264 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†5.15%çš„ç”¨æˆ·
     * å†…å­˜æ¶ˆè€—ï¼š43.1 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†16.34%çš„ç”¨æˆ·
     */
    public int[] nextGreaterElements(int[] nums) {
        // æš´åŠ›æ³•ğŸ˜­
        int len = nums.length;
        int[] ans = new int[len];
        for (int i = 0; i < len; i++) {
            // å–içš„ä¸‹ä¸€ä½ä¸‹æ ‡ï¼Œå¹¶è¿›è¡Œå–ä½™ï¼Œå› ä¸ºæ˜¯å¾ªç¯
            int k = (i + 1) % len;
            // å½“kå›åˆ°iä½ç½®ï¼Œæˆ–è€…nums[k] > nums[i]æ—¶ï¼Œè¯´æ˜æœ‰ç»“æœäº†
            // å½“kå›åˆ°iä½ç½®ï¼šæ²¡æœ‰æ‰¾åˆ°æ›´å¤§çš„
            // nums[k] > nums[i]ï¼šå½“å‰kä½ç½®ä¸ºæ›´å¤§çš„
            while (k != i && nums[k] <= nums[i]) {
                // åœ¨å¾ªç¯ä¸­æŒç»­åç§»
                k = (k + 1) % len;
            }
            // åˆ¤æ–­ä¸Šè¿°åˆ†æçš„ç»“æœçš„æƒ…å†µï¼Œå¹¶å°†å…¶èµ‹ç»™ç»“æœæ•°ç»„
            ans[i] = k == i ? -1 : nums[k];
        }
        return ans;
    }
}
